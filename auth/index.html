
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../implementation/">
      
      
        <link rel="next" href="../tactics/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.7">
    
    
      
        <title>Authorization mechanics - Lab 2, Authorization & Trust</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4b4a2bd9.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#authorization-mechanics" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Lab 2, Authorization &amp; Trust" class="md-header__button md-logo" aria-label="Lab 2, Authorization & Trust" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 19h1a1 1 0 0 1 1 1h7v2h-7a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1H2v-2h7a1 1 0 0 1 1-1h1v-1.66C8.07 16.13 6 13 6 9.67v-4L12 3l6 2.67v4c0 3.33-2.07 6.46-5 7.67V19M12 5 8 6.69V10h4V5m0 5v6c1.91-.47 4-2.94 4-5v-1h-4Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Lab 2, Authorization & Trust
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Authorization mechanics
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/15316-cmu/lab2-2023" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Lab 2, Authorization &amp; Trust" class="md-nav__button md-logo" aria-label="Lab 2, Authorization & Trust" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 19h1a1 1 0 0 1 1 1h7v2h-7a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1H2v-2h7a1 1 0 0 1 1-1h1v-1.66C8.07 16.13 6 13 6 9.67v-4L12 3l6 2.67v4c0 3.33-2.07 6.46-5 7.67V19M12 5 8 6.69V10h4V5m0 5v6c1.91-.47 4-2.94 4-5v-1h-4Z"/></svg>

    </a>
    Lab 2, Authorization & Trust
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/15316-cmu/lab2-2023" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../starter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../implementation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authorization goals
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Authorization mechanics
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Authorization mechanics
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#step-1-gather-credentials" class="md-nav__link">
    Step 1: Gather credentials
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-call-the-prover" class="md-nav__link">
    Step 2: Call the prover
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-send-the-request" class="md-nav__link">
    Step 3: Send the request
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-the-response" class="md-nav__link">
    Step 4: The response
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    Next steps
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../tactics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The prover
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../testing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing your prover
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../exploit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exploiting a vulnerability
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../utility/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utility code
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#step-1-gather-credentials" class="md-nav__link">
    Step 1: Gather credentials
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-2-call-the-prover" class="md-nav__link">
    Step 2: Call the prover
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-3-send-the-request" class="md-nav__link">
    Step 3: Send the request
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#step-4-the-response" class="md-nav__link">
    Step 4: The response
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    Next steps
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="authorization-mechanics">Authorization mechanics</h1>
<p>An authorization server is running on port <code>15316</code> at <code>authproof.net</code>.
Its job is to accept credentials and authorization proofs, verify them, and provide new credentials that allow clients to access resources that the server controls.
It functions in the following way.</p>
<ol>
<li>When a client connects on port <code>15316</code>, it expects to recieve an <code>AccessRequest</code> object (defined in <code>crypto.py</code>) containing a signed request for a named resource on behalf of a user, a proof that the user is allowed to access that resource, and any credentials and certificates needed to verify that the proof is correct.</li>
<li>The server calls <code>verify_request</code> (in <code>crypto.py</code>) on this access request.</li>
<li>If the request can be verified, then the server returns a new credential signed by <code>#root</code> granting access to the requested resource.</li>
<li>Otherwise, the server returns an error message.</li>
</ol>
<p>The client is implemented in <code>auth.py</code>.</p>
<pre><code>usage: auth.py [-h] [-s] requester resource

Constructs an authorization request, with proof. Optionally sends the request to the authorization server.

positional arguments:
  requester           agent making the request (use your andrew id)
  resource            resource under request (either shared.txt or andrewid.txt)

options:
  -h, --help          show this help message and exit
  -s, --send_request  send the request to the authorization server
</code></pre>
<p>Running the command <code>python src/auth.py andrewid andrewid.txt</code> will cause the following to happen.</p>
<h2 id="step-1-gather-credentials">Step 1: Gather credentials</h2>
<p>The client will first populate a sequent with a proof goal, filling the context with all of the certificates in <code>certs</code> and credentials in <code>cred</code>.</p>
<pre><code>ca(#ca) true,
iskey(#ca, [43:c9:43:e6]) true,
sign((iskey(#mdhamank, [71:14:55:85])), [43:c9:43:e6]) true,
sign((iskey(#mfredrik, [d3:c6:2a:1b])), [43:c9:43:e6]) true,
sign((iskey(#root, [2b:8f:e8:9b])), [43:c9:43:e6]) true,
sign((iskey(#dsduena, [db:b2:b9:b7])), [43:c9:43:e6]) true,
sign((iskey(#justinyo, [d2:15:e7:01])), [43:c9:43:e6]) true,
sign((open(#andrewid, &lt;andrewid.txt&gt;)), [71:14:55:85]) true,
sign((open(#andrewid, &lt;shared.txt&gt;)), [d3:c6:2a:1b]) true,
sign((open(#andrewid, &lt;andrewid.txt&gt;)), [2b:8f:e8:9b]) true,
sign((open(#dsduena, &lt;andrewid.txt&gt;)), [d3:c6:2a:1b]) true,
sign((open(#justinyo, &lt;andrewid.txt&gt;)), [db:b2:b9:b7]) true,
sign((open(#mdhamank, &lt;andrewid.txt&gt;)), [d2:15:e7:01]) true,
sign((open(#mfredrik, &lt;andrewid.txt&gt;)), [2b:8f:e8:9b]) true,
sign((open(#mfredrik, &lt;shared.txt&gt;)), [2b:8f:e8:9b]) true,
sign(((@A . (((#mfredrik says open(A, &lt;shared.txt&gt;)) -&gt; open(A, &lt;shared.txt&gt;))))), [2b:8f:e8:9b]) true,
sign(((@A . ((@R . ((open(A, R) -&gt; (@B . (((A says open(B, R)) -&gt; open(B, R)))))))))), [2b:8f:e8:9b]) true,
sign((open(#siruih, &lt;andrewid.txt&gt;)), [71:14:55:85]) true
    |-  (#root says open(#andrewid, &lt;andrewid.txt&gt;)) true
</code></pre>
<p>Each credential is added as a <code>sign(open(...), [...])</code> formula. The credentials in this example are shown below.</p>
<pre><code>sign((open(#andrewid, &lt;andrewid.txt&gt;)), [71:14:55:85]) true,
sign((open(#andrewid, &lt;shared.txt&gt;)), [d3:c6:2a:1b]) true,
sign((open(#andrewid, &lt;andrewid.txt&gt;)), [2b:8f:e8:9b]) true,
sign((open(#dsduena, &lt;andrewid.txt&gt;)), [d3:c6:2a:1b]) true,
sign((open(#justinyo, &lt;andrewid.txt&gt;)), [db:b2:b9:b7]) true,
sign((open(#mdhamank, &lt;andrewid.txt&gt;)), [d2:15:e7:01]) true,
sign((open(#mfredrik, &lt;andrewid.txt&gt;)), [2b:8f:e8:9b]) true,
sign((open(#mfredrik, &lt;shared.txt&gt;)), [2b:8f:e8:9b]) true,
sign(((@A . (((#mfredrik says open(A, &lt;shared.txt&gt;)) -&gt; open(A, &lt;shared.txt&gt;))))), [2b:8f:e8:9b]) true,
sign(((@A . ((@R . ((open(A, R) -&gt; (@B . (((A says open(B, R)) -&gt; open(B, R)))))))))), [2b:8f:e8:9b]) true,
sign((open(#siruih, &lt;andrewid.txt&gt;)), [71:14:55:85]) true
</code></pre>
<p>Each certificate is added as a <code>sign(iskey(...), [...])</code> formula, shown below.</p>
<pre><code>sign((iskey(#mdhamank, [71:14:55:85])), [43:c9:43:e6]) true,
sign((iskey(#mfredrik, [d3:c6:2a:1b])), [43:c9:43:e6]) true,
sign((iskey(#root, [2b:8f:e8:9b])), [43:c9:43:e6]) true,
sign((iskey(#dsduena, [db:b2:b9:b7])), [43:c9:43:e6]) true,
sign((iskey(#justinyo, [d2:15:e7:01])), [43:c9:43:e6]) true
</code></pre>
<p>The certificate authority and their key are added to the assumptions.</p>
<pre><code>ca(#ca) true,
iskey(#ca, [43:c9:43:e6]) true,
</code></pre>
<p>Each certificate is added as a <code>sign(iskey(...))</code> formula, signed with the key of <code>#ca</code>. So the example certificate for <code>#root</code> shown above would become the following assumption.</p>
<pre><code>sign(
    iskey(#root, [88:02:3f:fb:03:0f:c8:54:dc:75:f0:8e:cc:c3:54:22]),
    [68:d7:6c:b7:95:fb:a4:f7:a7:4f:12:44:6f:27:c5:40]
)
</code></pre>
<p>Finally, the following assumptions are always added, to establish that <code>#ca</code> is the trusted certificate authority, and that their key is already known.</p>
<pre><code>ca(#ca)
iskey(#ca, [68:d7:6c:b7:95:fb:a4:f7:a7:4f:12:44:6f:27:c5:40])
</code></pre>
<p>Finally, the request is reflected in the goal of the sequent. Namely, the user <code>#andrewid</code> requests access to <code>&lt;andrewid.txt&gt;</code>, and aims to show that this is authorized under <code>#root</code>'s policy.</p>
<pre><code>(#root says open(#andrewid, &lt;andrewid.txt&gt;)) true
</code></pre>
<h2 id="step-2-call-the-prover">Step 2: Call the prover</h2>
<p>The <code>prove</code> function in <code>prover.py</code> is called on this sequent. It either returns a proof or <code>None</code>.</p>
<p>If the prover returns <code>None</code>, then the client prints a message and exits. Otherwise, the client begins generating a request to send to <code>authproof.net</code>.</p>
<h2 id="step-3-send-the-request">Step 3: Send the request</h2>
<p>With a proof in hand, the client calls <code>generate_request</code> (in <code>auth.py</code>).
<code>generate_request</code> inspects the proof, and determins which credentials and certificates are needed to verify the proof.
In this example, only the credential in <code>andrewid_txt.cred</code>, which is signed by <code>#root</code> to state that <code>#andrewid</code> can open <code>&lt;andrewid.txt&gt;</code>, is needed.
Likewise, the only certificates that are needed are those of <code>#andrewid</code>, <code>#root</code>, and <code>#ca</code>.
It gathers these resources to attach to the request, signs the request with <code>#andrewid</code>'s secret key, and sends the request to the server.</p>
<p>The full request for this example is shown below.</p>
<pre><code>signature:
*********************************** Credential ***********************************
statement: (#root says open(#andrewid, &lt;andrewid.txt&gt;))
signator: #andrewid
signature: [ef:63:cb:70:64:52:38:33:16:e6:88:e5:41:11:de:f7]
**********************************************************************************

credentials:
*********************************** Credential ***********************************
statement: open(#andrewid, &lt;andrewid.txt&gt;)
signator: #root
signature: [50:f0:40:3d:91:31:f3:ec:d2:99:bd:e6:b5:6c:8b:02]
**********************************************************************************

certificates:
============================= Public Key Certificate =============================
key: [43:c9:43:e6:28:37:ec:23:1a:bc:83:c6:eb:87:e8:6f]
agent: #ca
*********************************** Credential ***********************************
statement: iskey(#ca, [43:c9:43:e6:28:37:ec:23:1a:bc:83:c6:eb:87:e8:6f])
signator: #ca
signature: [4a:89:91:6e:c8:18:f2:d1:4c:c6:a0:b6:e8:cb:bf:44]
**********************************************************************************
==================================================================================
============================= Public Key Certificate =============================
key: [2b:8f:e8:9b:8b:76:37:a7:3b:7e:85:49:9d:87:7b:3b]
agent: #root
*********************************** Credential ***********************************
statement: iskey(#root, [2b:8f:e8:9b:8b:76:37:a7:3b:7e:85:49:9d:87:7b:3b])
signator: #ca
signature: [ac:84:67:26:09:c2:c0:39:0e:0a:13:70:f4:d7:3e:d2]
**********************************************************************************
==================================================================================
============================= Public Key Certificate =============================
key: [a2:56:e9:a5:c0:56:d9:32:7a:f1:5b:cb:ce:7a:13:47]
agent: #andrewid
*********************************** Credential ***********************************
statement: iskey(#andrewid, [a2:56:e9:a5:c0:56:d9:32:7a:f1:5b:cb:ce:7a:13:47])
signator: #ca
signature: [79:56:b9:1e:0d:a3:fd:4c:2e:72:f2:04:c3:38:fc:cb]
**********************************************************************************
==================================================================================
</code></pre>
<h2 id="step-4-the-response">Step 4: The response</h2>
<p>If the server is able to verify that each certificate and credential was properly signed, and that the proof is correct, then it sends a fresh new credential signed by <code>#root</code> authorizing <code>#andrewid</code> to open <code>&lt;andrewid.txt&gt;</code>.</p>
<pre><code>*********************************** Credential ***********************************
statement: open(#andrewid, &lt;andrewid.txt&gt;)
signator: #root
signature: [50:f0:40:3d:91:31:f3:ec:d2:99:bd:e6:b5:6c:8b:02]
**********************************************************************************
</code></pre>
<h2 id="next-steps">Next steps</h2>
<p>In the starter code, <code>prover.prove</code> always returns <code>None</code>. Your main job is to implement <a href="../tactics/">the prover</a>.</p>
<p>You do not need to change anything in <code>auth.py</code>, but it is good to understand how requests are generated and sent, and the role that your prover plays in this process.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.aecac24b.min.js"></script>
      
    
  </body>
</html>